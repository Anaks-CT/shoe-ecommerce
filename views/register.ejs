<%- include('./layouts/userheader.ejs') %> 
<div class="container-fluid login-container">
    <div class="row login-row d-flex justify-content-center align-items-center justify-content-space-around my-5">
        <div class="col-lg-4 align-items-center">
            <div class=" mx-auto" style="background: #91c4d4; border-radius: 40px; width: 335px;">
              <form action="/signup" class="text-center d-flex flex-column align-items-center" method="post">
                    <img  class="banner py-2" src="/images/RIS circle WHITE.png" alt="">
                    <p class="text-danger fw-bold m-0"><%=locals.error%></p>
                    <input class="login-input my-2 p-2" type="text" placeholder="Name" required="" name="name">
                    <input class="login-input my-2 p-2" type="number" placeholder="Phone" required="" name="phone" id="phone" onkeyup="phoneValidation()">  
                    <span id="phoneErrorMessage" class="text-danger"></span>                  
                    <input class="login-input my-2 p-2" id="email" type="text" placeholder="Email Address" required="" name="email" onkeyup="emailValidation()">     
                    <span id="emailErrorMessage" class="text-danger"></span>              
                    <input class="login-input my-2 p-2" type="password" placeholder="Password" required="" id="password" name="password" onkeyup="passwordValidating()">  
                    <span class="text-danger" id="passwordErrorMessage"></span>  
                    <script>
                        function phoneValidation(){
                            const inputPhone = $('#phone').val()
                            if(!inputPhone.match(/^[0-9]{10,10}$/)){
                                $('#phoneErrorMessage').text('10 digit number required')
                                $('#registerButton').css('pointer-events','none')
                            }else{
                                $('#phoneErrorMessage').text('')
                                $('#registerButton').css('pointer-events','')
                            }
                        }

                        function emailValidation(){
                            const inputMail = $('#email').val()
                            if(!inputMail.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)){
                                $('#emailErrorMessage').text('Invalid Email')
                                $('#registerButton').css('pointer-events','none')
                            }else{
                                $('#emailErrorMessage').text('')
                                $('#registerButton').css('pointer-events','')
                            }
                        }

                        function passwordValidating(){
                            const inputPassword = $('#password').val()
                            if(!inputPassword.match(/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$/)){
                                $('#passwordErrorMessage').text('Password should be atleast 8 characters')
                                $('#registerButton').css('pointer-events','none')
                            }else{
                                $('#passwordErrorMessage').text('')
                                $('#registerButton').css('pointer-events','')
                            }
                        }
                    </script>               
                    <input class="login-input my-2 p-2" type="password" placeholder="Confirm Password" required="" id="confirm_password" name="confirmpassword" onkeyup="check()"> 
                    <p id="message"></p>
                    <p class="px-4 small-text">I Agree the terms and conditions</p>                 
                    <button class="login-button signup-button" id="registerButton" type="submit">Register</button>
                    <p class="px-4"><a href="login">Sign In</a></p>
                </form>
            </div>
        </div>
        <div class="col-lg-4 login-banner">
            <img class="login-image d-none d-lg-block"  src="/images/air-kukini-se-shoes-mGmph3-removebg-preview.png" alt="">
        </div>
    </div>
</div>

<script>
        var check = function() {
        if (document.getElementById('password').value ==
            document.getElementById('confirm_password').value) {
            document.getElementById('message').style.color = 'green';
            document.getElementById('message').innerHTML = '';
        } else {
            document.getElementById('message').style.color = 'red';
            document.getElementById('message').innerHTML = 'not matching';
        }
        }
</script>
<%- include('./layouts/userfooter.ejs') %> 